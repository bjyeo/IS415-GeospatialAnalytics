{
  "hash": "1cdd9c3727b16ceb7e92d5f040c74320",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take Home Exercise 1: Armed Conflict in Myanmar\"\nauthor: \"Bao Jie Yeo\"\ndate: '2024-09-15'\ndate-modified: '2024-09-15'\nexecute: \n  eval: true\n  echo: true\n  freeze: true\n---\n\n\n## 2.0 Data Collection\n\n### 2.1 Armed Conflict Data\n\nFor this assignment, armed conflict data of Myanmar between January 2021 - June 2024 from [Armed Conflict Location & Event Data (ACLED)](https://acleddata.com/), an independent, impartial, international non-profit organization collecting data on violent conflict and protest in all countries and territories in the world, was used.\n\n### 2.2 GIS Data\n\nRelevant [Geospatial data](http://geonode.themimu.info/layers/?limit=100&offset=0) was gathered from [Myanmar Information Management Unit (MIMU)](http://www.themimu.info/)\n\n## 3.0 Data Wrangling\n\n### 3.1 Loading Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(sf, tidyverse, tmap, maptools, raster, spatstat, sp, sparr, leaflet, OpenStreetMap, stars, RColorBrewer, knitr, igraph, ggnetwork, viridis, ggrepel)\n```\n:::\n\n\n### 3.2 Loading Data\n\nBefore proceeding with our analysis, we need to import two sets of data:\n\n1. **Armed Conflict Data**: This dataset from ACLED contains information on the location, date, and type of conflict events that occurred in Myanmar from January 1, 2024 until June 30, 2024.\n2. **Administrative Boundary Data**: These shapefiles from MIMU contain the administrative boundaries of Myanmar at the state and region level.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nacled_sf <- read_csv(\"data/geospatial/ACLED_Myanmar.csv\") |>\n  st_as_sf(coords = c(\"longitude\", \"latitude\"), crs = 4326) |>\n  st_transform(crs = 32647) |>\n  mutate(event_date = dmy(event_date)) |>\n  mutate(\n    quarter = paste0(year, \"-Q\", quarter(event_date, with_year = FALSE)),\n    quarter = factor(quarter)\n  ) |>\n  relocate(quarter, .after = year)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 51553 Columns: 32\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (20): event_id_cnty, event_date, disorder_type, event_type, sub_event_ty...\ndbl (12): year, time_precision, inter1, inter2, interaction, iso, latitude, ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(acled_sf, n=10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSimple feature collection with 10 features and 31 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 76997.72 ymin: 2428487 xmax: 262561.5 ymax: 2559463\nProjected CRS: WGS 84 / UTM zone 47N\n# A tibble: 10 × 32\n   event_id_cnty event_date  year quarter time_precision disorder_type         \n   <chr>         <date>     <dbl> <fct>            <dbl> <chr>                 \n 1 MMR64313      2024-06-30  2024 2024-Q2              1 Political violence    \n 2 MMR64320      2024-06-30  2024 2024-Q2              1 Political violence    \n 3 MMR64321      2024-06-30  2024 2024-Q2              1 Political violence    \n 4 MMR64322      2024-06-30  2024 2024-Q2              1 Strategic developments\n 5 MMR64323      2024-06-30  2024 2024-Q2              1 Political violence    \n 6 MMR64324      2024-06-30  2024 2024-Q2              1 Strategic developments\n 7 MMR64325      2024-06-30  2024 2024-Q2              1 Political violence    \n 8 MMR64326      2024-06-30  2024 2024-Q2              1 Political violence    \n 9 MMR64328      2024-06-30  2024 2024-Q2              1 Political violence    \n10 MMR64330      2024-06-30  2024 2024-Q2              1 Political violence    \n# ℹ 26 more variables: event_type <chr>, sub_event_type <chr>, actor1 <chr>,\n#   assoc_actor_1 <chr>, inter1 <dbl>, actor2 <chr>, assoc_actor_2 <chr>,\n#   inter2 <dbl>, interaction <dbl>, civilian_targeting <chr>, iso <dbl>,\n#   region <chr>, country <chr>, admin1 <chr>, admin2 <chr>, admin3 <chr>,\n#   location <chr>, geo_precision <dbl>, source <chr>, source_scale <chr>,\n#   notes <chr>, fatalities <dbl>, tags <chr>, timestamp <dbl>,\n#   population_best <dbl>, geometry <POINT [m]>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nadm0 <- st_read(dsn = \"data/adms\", layer = \"mmr_polbnda_adm0_250k_mimu_1\") |>\n  st_transform(crs = 4326)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `mmr_polbnda_adm0_250k_mimu_1' from data source \n  `C:\\Users\\Home\\Desktop\\bjyeo\\IS415-GeospatialAnalytics\\TakehomeEx\\THE01\\data\\adms' \n  using driver `ESRI Shapefile'\nSimple feature collection with 1 feature and 2 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 92.1721 ymin: 9.696844 xmax: 101.17 ymax: 28.54554\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\nadm1 <- st_read(dsn = \"data/adms\", layer = \"mmr_polbnda_adm1_250k_mimu_1\") |>\n  st_transform(crs = 4326)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `mmr_polbnda_adm1_250k_mimu_1' from data source \n  `C:\\Users\\Home\\Desktop\\bjyeo\\IS415-GeospatialAnalytics\\TakehomeEx\\THE01\\data\\adms' \n  using driver `ESRI Shapefile'\nSimple feature collection with 15 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 92.1721 ymin: 9.696844 xmax: 101.17 ymax: 28.54554\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\nadm2 <- st_read(dsn = \"data/adms\", layer = \"mmr_polbnda_adm2_250k_mimu\") |>\n  st_transform(crs = 4326)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `mmr_polbnda_adm2_250k_mimu' from data source \n  `C:\\Users\\Home\\Desktop\\bjyeo\\IS415-GeospatialAnalytics\\TakehomeEx\\THE01\\data\\adms' \n  using driver `ESRI Shapefile'\nSimple feature collection with 80 features and 7 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 92.1721 ymin: 9.696844 xmax: 101.17 ymax: 28.54554\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\nadm3 <- st_read(dsn = \"data/adms\", layer = \"mmr_polbnda_adm3_250k_mimu_1\") |>\n  st_transform(crs = 4326)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `mmr_polbnda_adm3_250k_mimu_1' from data source \n  `C:\\Users\\Home\\Desktop\\bjyeo\\IS415-GeospatialAnalytics\\TakehomeEx\\THE01\\data\\adms' \n  using driver `ESRI Shapefile'\nSimple feature collection with 330 features and 9 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 92.1721 ymin: 9.696844 xmax: 101.17 ymax: 28.54554\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nadmin_boundaries <- list(adm0 = adm0, adm1 = adm1, adm2 = adm2, adm3 = adm3)\n```\n:::\n\n\n### 3.3 Visualization of Myanmar Administrative Divisions\n\nBefore we conducting any analysis, we need to familiarize ourselves with the entire map of Myanmar. Myanmar is divided into several administrative divisions, including states, regions, districts, and townships. We will visualize these administrative divisions using the `tmap` package.\n\n**Bonus:** For the choice of color palette, we use the `RColorBrewer` package to generate a colorblind-friendly palette for accessibility. *Set2* is one of the better colorblind-friendly choices for categorical data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntmap_mode(\"plot\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\ntmap mode set to plotting\n```\n\n\n:::\n\n```{.r .cell-code}\ncolorblind_friendly_palette <- brewer.pal(8, \"Set2\")\n\nmyanmar_map <- tm_shape(adm1) +\n  tm_polygons(\"ST\", \n              title = \"States and Regions\",\n              palette = colorblind_friendly_palette,\n              border.col = \"white\",\n              border.alpha = 0.5) +\n  tm_shape(adm0) +\n  tm_borders(lwd = 2) +\n  tm_graticules(labels.inside.frame = FALSE,\n                labels.rot = c(0, 90)) +\n  tm_layout(main.title = \"Administrative Divisions of Myanmar\",\n            main.title.size = 1.2,\n            legend.outside = TRUE,\n            legend.outside.position = \"right\",\n            frame = FALSE)\n\n# tmap_save(myanmar_map, filename = \"myanmar_admin_divisions.png\", width = 8, height = 10)\nmyanmar_map\n```\n\n::: {.cell-output-display}\n![](THE01_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n### 3.4 Bonus: Geospatial Dashboard for Conflict Analysis\n\n**Premise:**\n\nThe decision to create this interactive map stems from the need to provide a more dynamic and user-friendly way to explore the complex spatial and temporal patterns of conflict events in Myanmar. While static maps and charts offer valuable insights, an interactive dashboard allows for a more in-depth and customizable analysis of the data.\n\nUnfortunately, since this rendered document will be output in a static format, the interactive dashboard will not be displayed here. However, the code for the Shiny app is provided below for reference. Additionally, there will be screenshots of the dashboard below for visualization purposes.\n\n**Features:**\n\n1. Visualization of Spatial Patterns: The map displays the geographical distribution of conflict events across different administrative levels of Myanmar.\n2. Temporal Analysis: Date range slider enables exploration of how conflict patterns have changed over time.\n3. Event Type Distribution: The interactive pie chart provides a view of the relative frequency of different types of conflict events.\n4. Customization: Users can adjust parameters like administrative level and date range to focus on specific areas or time periods of interest.\n\n**Implementation:**\n\n* `shiny`: Used for creating web app framework, allowing reactive updates based on user inputs\n* `leaflet`: For interactive maps with dynamic layers and markers\n* `plotly`: Used for creating the interactive pie chart. Hovering over the chart provides detailed information about each event type.\n\n## 4.0 Preliminary Exploratory Data Analysis: Understanding the Conflict Landscape\n\n### 4.1 Overall Landscape of Conflict Events\n\n**Spatial Point Distribution**\n\nThe point map of conflict events in Myanmar, while rudimentary, is crucial for understanding the spatial distribution of the conflict. At a glance, we can observe **regional hotspots**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npoint_map <- ggplot() +\n  geom_sf(data = adm1, fill = \"white\", color = \"gray\") +\n  geom_sf(data = acled_sf, aes(color = event_type), size = 0.5, alpha = 0.6) +\n  theme_minimal() +\n  labs(title = \"Distribution of Conflict Events in Myanmar\",\n       color = \"Event Type\") +\n  guides(color = guide_legend(override.aes = list(size = 5, alpha = 1, shape = 15))) +\n  theme(legend.key.size = unit(1, \"cm\"),\n        legend.text = element_text(size = 8),\n        legend.title = element_text(size = 10, face = \"bold\"))\n\npoint_map\n```\n\n::: {.cell-output-display}\n![](THE01_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nKey Observations: \n\n1. There appears to be a much higher concentration of events in the **Central and Northern regions**\n2. Coastal areas and southern regions show fewer events, which suggests the conflict is more intense in the interior of the country.\n\n**Event Type Distribution**\n\nAnother basic plot, but important to our discussion, is the distribution of event types. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nevent_type_plot <- acled_sf %>%\n  count(event_type) %>%\n  ggplot(aes(x = reorder(event_type, n), y = n, fill = event_type)) +\n  geom_bar(stat = \"identity\") +\n  geom_text(aes(label = n), hjust = -0.2, size = 3) +\n  coord_flip() +\n  theme_minimal() +\n  labs(title = \"Distribution of Event Types\",\n       x = \"Event Type\", y = \"Number of Events\") +\n  theme(legend.position = \"none\") + \n  scale_y_continuous(expand = expansion(mult = c(0, 0.3)))\n\nevent_type_plot\n```\n\n::: {.cell-output-display}\n![](THE01_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nKey Observations:\n\n1. Battles appear to be the most common type of event, indicating a high level of direct armed confrontation.\n2. Violence against civilians is also prevalent, highlighting the humanitarian impact of the conflict.\n3. Protests and riots suggest significant civil unrest component to the overall conflict landscape.\n4. The presence of strategic developments indicates that non-violent events also play a role in shaping the conflict dynamics.\n\nAt this stage, looking at numbers alone is insufficient and will not guarantee a comprehensive picture of the conflict landscape. We need to delve deeper into the data to uncover more nuanced insights.\n\n**Top Actors**\n\nNo conflict discussion can be complete without framing the key actors involved. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_actors <- acled_sf %>%\n  gather(key = \"actor_type\", value = \"actor\", actor1, actor2) %>%\n  count(actor) %>%\n  top_n(5, n) %>%\n  mutate(actor = fct_reorder(actor, n, .desc = TRUE)) %>%\n  ggplot(aes(x = actor, y = n, fill = actor)) +\n  geom_bar(stat = \"identity\") +\n  geom_text(aes(label = n, y = n), hjust = -0.2) +\n  coord_flip() +\n  scale_y_continuous(expand = expansion(mult = c(0, 0.25))) +\n  theme_minimal() +\n  labs(title = \"Top 5 Actors by Number of Events\",\n       x = \"Actor\", y = \"Number of Events\") +\n  theme(legend.position = \"none\")\n\ntop_actors\n```\n\n::: {.cell-output-display}\n![](THE01_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nKey Observations:\n\n1. Military-Centric Conflict: The **Myanmar Armed Forces are overwhelmingly involved** in the highest nunmber of events, more than all other actors combined. \n2. Humanitarian Crisis: The high involvement of civilians implies a severe humanitarian impact, potentially including human rights violations, displacement, and civilian casualties.\n3. Asymmetric Conflict: The vast disparity between military events and other groups is a situation where the state's armed forces are engaged against multiple, smaller opposition groups and civilian resistance.\n4. Potential for Escalation: The high involvement of civilians and protestors alongside military actions **may indicate a volatile solution** with potential for further escalation. Whether this holds true, we need to delve deeper into the data.\n\n**Bonus: Network Analysis of Top Actors**\n\nIf it wasn't apparent that the Myanmar Armed Forces is the central antagonist in the conflict, a network analysis of the top actors will make it abundantly clear. We want to explicitly show their deep involvement in the conflict landscape.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nactor_network <- acled_sf %>%\n  dplyr::select(actor1, actor2) %>%\n  filter(actor1 != actor2) %>%\n  group_by(actor1, actor2) %>%\n  summarise(weight = n(), .groups = \"drop\") %>%\n  filter(weight > 30) \n\ngraph <- graph_from_data_frame(actor_network, directed = FALSE)\ntop_actors <- names(sort(degree(graph), decreasing = TRUE)[1:10])\ngraph <- induced_subgraph(graph, top_actors)\n\ncomm <- cluster_louvain(graph)\nV(graph)$community <- membership(comm)\nV(graph)$degree <- degree(graph)\n\nlayout <- layout_with_kk(graph)\n\nnetwork_data <- as.data.frame(layout)\nnames(network_data) <- c(\"x\", \"y\")\nnetwork_data$name <- V(graph)$name\nnetwork_data$community <- V(graph)$community\nnetwork_data$degree <- V(graph)$degree\n\nset.seed(123)\nnetwork_data$x <- network_data$x + runif(nrow(network_data), -0.05, 0.05)\nnetwork_data$y <- network_data$y + runif(nrow(network_data), -0.05, 0.05)\n\nedge_data <- as_edgelist(graph) %>%\n  as.data.frame() %>%\n  rename(from = V1, to = V2) %>%\n  left_join(actor_network, by = c(\"from\" = \"actor1\", \"to\" = \"actor2\")) %>%\n  left_join(network_data, by = c(\"from\" = \"name\")) %>%\n  rename(x = x, y = y) %>%\n  left_join(network_data, by = c(\"to\" = \"name\"), suffix = c(\"\", \"_end\")) %>%\n  rename(xend = x_end, yend = y_end)\n\nnum_communities <- length(unique(network_data$community))\ncolor_palette <- colorRampPalette(brewer.pal(8, \"Dark2\"))(num_communities)\n\nnetwork_plot <- ggplot() +\n  geom_segment(data = edge_data, aes(x = x, y = y, xend = xend, yend = yend, linewidth = weight),\n               alpha = 0.3, color = \"lightgray\", na.rm = TRUE) +\n  geom_point(data = network_data, aes(x = x, y = y, color = as.factor(community), size = degree)) +\n  geom_text(data = network_data, aes(x = x, y = y, label = name), check_overlap = TRUE, size = 3, vjust = 1.5) +\n  scale_color_manual(values = color_palette) +\n  scale_size_continuous(range = c(2, 10)) +\n  theme_void() +\n  labs(title = \"Network of Top Actors in Conflicts\",\n       subtitle = \"Showing connections with weight > 30\") +\n  theme(legend.position = \"none\",\n         plot.margin = unit(c(1, 1, 1, 1), \"cm\")) +\n  coord_cartesian(clip = \"off\") +\n  expand_limits(x = c(min(network_data$x) - 0.4, max(network_data$x) + 0.4), \n                y = c(min(network_data$y) - 0.4, max(network_data$y) + 0.4))\n\nggsave(\"network_plot.png\", network_plot, width = 12, height = 10, dpi = 300)\n```\n:::\n\n\n![Network Plot](network_plot.png)\n\nKey Observations:\n\n1. Central Node - Myanmar Armed Forces: Being the largest node in the graph, the military forces has connections to almost all other actors. Unsurprisingly, it is the most connected and influential actor in the conflict. This is unsurprising for several reasons:\n  * The national military is engaged in conflicts with multiple groups across the country\n  * It has the resources and reach to be involved in most conflict events\n2. Civilian (Myanmar) Node: The second largest node represents civilians. Civilians are frequently targets or involved in conflict events.\n\n**Section Recap**\n1. Central and Northern regions show higher conflict events\n2. Myanmar Armed Forces is the primary actor in the conflict\n3. The volatile situation may give way to further escalation\n\n### 4.2 Progression of Conflict\n\nIn the previous section, we presented a snapshot of the conflict landscape. Since 2021, over 3.5 years of the conflict has passed, and we want to understand how the conflict has evolved.\n\n**Temporal Trend: Conflict Events**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntemporal_plot <- acled_sf %>%\n  count(quarter) %>%\n  mutate(quarter = factor(quarter, levels = unique(quarter[order(quarter)]))) %>%\n  ggplot(aes(x = quarter, y = n)) +\n  geom_line(aes(group = 1), color = \"blue\", alpha = 0.7) +\n  geom_point(color = \"blue\", size = 3) +\n  geom_smooth(aes(group = 1), formula = y ~ x, method = \"loess\", se = TRUE, \n              color = \"red\", fill = \"pink\", alpha = 0.3, linewidth = 1.2) +\n  labs(title = \"Trend of Conflict Events Over Time\",\n       x = \"Quarter\", y = \"Number of Events\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  scale_y_continuous(labels = scales::comma)\n\nprint(temporal_plot)\n```\n\n::: {.cell-output-display}\n![](THE01_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\nKey Observations:\n\n1. Peak and Decline: There is a clear peak in conflict events around 2021-Q2 to 2022-Q1, around the start of the conflict. Subsequently, there is a general decline in conflict events over time.\n  * The conflict might be starting to stabilize or reduce in intensity.\n2. Recent Fluctuations: The overall trend may be downward, but there are **noticeable fluctuations in the most recent quarters**, suggesting the conflict remains volatile.\n3. Uncertainty in Trend: The large confidence area presents a high degree of uncertainty. This could prove **challenging to make definitive predictions about future conflict patterns** based on this data alone.\n\n**Temporal Trend: Fatalities**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfatalities_trend <- acled_sf %>%\n  group_by(quarter) %>%\n  summarise(total_fatalities = sum(fatalities, na.rm = TRUE)) %>%\n  mutate(quarter = factor(quarter, levels = unique(quarter[order(quarter)]))) %>%\n  ggplot(aes(x = quarter, y = total_fatalities)) +\n  geom_line(aes(group = 1), color = \"blue\", alpha = 0.7) +\n  geom_point(color = \"blue\", size = 3) +\n  geom_smooth(aes(group = 1), formula = y ~ x, method = \"loess\", se = TRUE, \n              color = \"red\", fill = \"pink\", alpha = 0.3, linewidth = 1.2) +\n  labs(title = \"Trend of Fatalities Over Time in Myanmar\",\n       x = \"Quarter\", y = \"Total Fatalities\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  scale_y_continuous(labels = scales::comma)\n\nfatalities_trend\n```\n\n::: {.cell-output-display}\n![](THE01_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\nKey Observations:\n\n1. Rapid Initial Increase: There's a sharp rise in fatalities from 2021-Q1 to 2022-Q1, indicating an intensification of the conflict in its early stages, contingent with the observations in the previous plot.\n2. Stabilization at High Level: After the initial peak, fatalities have stabilized at a high level, with some fluctuations but **no clear downward trend**.\n\n**Heatmap: Concentration of Conflict Events**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nacled_df <- acled_sf %>%\n  mutate(Longitude = st_coordinates(geometry)[,1],\n         Latitude = st_coordinates(geometry)[,2])\n\nanimated_heatmap <- ggplot() +\n  stat_density_2d(data = acled_df, \n                  aes(x = Longitude, \n                      y = Latitude,\n                      fill = after_stat(level)),\n                  geom = \"polygon\", \n                  alpha = 0.5) +\n    geom_sf(data = adm1, fill = NA, color = \"gray\") +\n  viridis::scale_fill_viridis() +\n  theme_minimal() +\n  labs(title = \"Heatmap of Conflict Events in Myanmar\",\n       subtitle = \"Quarter: {current_frame}\",\n       x = \"Longitude\",\n       y = \"Latitude\",\n       fill = \"Density\") +\n  gganimate::transition_manual(quarter) +\n  gganimate::ease_aes('linear')\n\n# animated_heatmap_render <- gganimate::animate(animated_heatmap, \n#                                    nframes = length(unique(acled_df$quarter)), \n#                                    fps = 1, \n#                                    width = 800, \n#                                    height = 600)\n# gganimate::anim_save(\"animated_heatmap.gif\", animated_heatmap_render)\n```\n:::\n\n\n![Animated Heatmap](animated_heatmap.gif)\n\nKey Observations:\n\n1. Spatial Concentration: Conflict events are densely concentrated in the Central, Northern and Southern regions of Myanmar.\n  * Central/Northern Hotspots: **Sagaing, Magway, Mandalay, Shan**\n  * Southern Hotspots: **Yangon**\n2. Stabilization of Conflict: The density of each hotspot appears to decrease over time, suggesting a potential stabilization of the conflict in these areas.\n\n**Section Recap**\n\n1. We have identified conflict hotspots as Sagaing, Magway, Mandalay, Shan, and Yangon.\n2. The conflict may be stabilizing, but the recent fluctuations and high fatality rates may suggest a volatile situation, in line with our earlier speculation.\n\n### 4.3 Contested Areas and Relative Impact\n\n**Most Active Administrative Regions**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclean_admin_name <- function(name) {\n  name <- str_remove(name, \"-.*$\")\n  name <- str_remove(name, \"\\\\(.*\\\\)\")\n  return(str_trim(name))\n}\n\ntop_10_regions <- acled_sf %>%\n  st_drop_geometry() %>%\n  mutate(admin1 = clean_admin_name(admin1)) %>%\n  count(admin1) %>%\n  arrange(desc(n)) %>%\n  top_n(10, n)\n\ntop_regions_plot <- ggplot(top_10_regions, aes(x = reorder(admin1, n), y = n, fill = n)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  viridis::scale_fill_viridis(option = \"D\", direction = -1) +\n  labs(title = \"Top 10 Administrative Regions with Most Conflicts\",\n       x = \"Administrative Region\",\n       y = \"Number of Conflict Events\") +\n  theme_minimal() +\n  theme(axis.text.y = element_text(angle = 0, hjust = 1))\n\ntop_regions_plot\n```\n\n::: {.cell-output-display}\n![](THE01_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\nThe above bar chart verifies our earlier observations, with Sagaing, Shan, Mandalay, Magway and Yangon being the most conflict-prone regions in Myanmar. \n\n**Scatter Plot Analysis: Fatalities vs Conflict Events across Administrative Divisions**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nevents_fatalities <- acled_sf %>%\n  mutate(admin1 = clean_admin_name(admin1)) %>%\n  group_by(admin1) %>%\n  summarise(\n    total_events = n(),\n    total_fatalities = sum(fatalities, na.rm = TRUE)\n  )\n\nggplot(events_fatalities, aes(x = total_events, y = total_fatalities)) +\n  geom_point(aes(size = total_events, color = total_fatalities), alpha = 0.7) +\n  ggrepel::geom_text_repel(aes(label = admin1), size = 3, max.overlaps = Inf) +\n  scale_size_continuous(range = c(2, 10)) +\n  scale_color_viridis_c() +\n  scale_x_log10(labels = scales::comma) +\n  scale_y_log10(labels = scales::comma) +\n  labs(\n    title = \"Fatalities vs Number of Events by Administrative Division\",\n    x = \"Total Number of Events (log scale)\",\n    y = \"Total Fatalities (log scale)\",\n    size = \"Number of Events\",\n    color = \"Fatalities\"\n  ) +\n  theme_minimal() +\n  theme(legend.position = \"right\") +\n  coord_cartesian(clip = \"off\")\n```\n\n::: {.cell-output-display}\n![](THE01_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\nKey Observations:\n\n1. Severity Hotspots: Regions in the upper right quadrant experience intense conflict with both high event frequency and high fatalities.\n  * Sagaing's position in the upper right corner indicates it's the most severely affected region.\n  * Magway, Shan and Mandalay also show high levels of conflict intensity.\n2. Outliers: Yangon shows an interesting pattern with a relatively high number of events but lower fatalities, **possibly indicating a different nature of conflict**.\n\n**Section Recap**\n\n1. Conflict hotspots result in the most number of events and fatalities\n2. Yangon's unique position calls into question further research on the regions' geographical and political dynamics\n\n### 4.4 Overall Analysis\n\n1. **Conflict Intensity and Distribution**: The conflict in Myanmar is not uniformly distributed, with clear hotspots in the Central and Northern regions.\n  * Hypothesis: The spatial distribution of conflict events is *not random*.\n2. **Temporal Trends and Conflict Evolution**: While there's an overall declining trend in conflict events since the peak in 2021 - 2022, fatalities remain high, and recent fluctuations suggest ongoing volatality. This pattern indicates a potential shift in conflict dynamics rather than de-escalation.\n  * Research Question: How has the nature of the conflict changed over time, and what factors are contributing to the sustained high fatality rates despite decreasing event frequency?\n3. **Central Role of Myanmar Armed Forces**: The miltary is overwhelmingly involved in conflict events. Their dominance suggests an asymmetric conflict where state forces are engaged against multiple, smaller opposition groups and civilian resistance.\n4. **Regional Variations in Conflict Characteristics**: The Southern front on a whole is relatively less contested, though Yangon shows a unique pattern. \n\n## 5.0 First Order Spatial-Temporal Patterns Analysis: A Closer Look at the Myanmar Conflict Landscape\n\n## 6.0 Second Order Spatial-Temporal Patterns Analysis: Focused Exploration of Conflict Dynamics\n\n## 7.0 OpenStreetMap Integration: Geospatial Visualization of Conflict Events\n\n## 8.0 Bonus: Predictive Modelling of Conflict Events\n\n## 9.0 Conclusion\n\n## References\n\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}